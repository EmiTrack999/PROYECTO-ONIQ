<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ONIQ Store - Tienda Premium</title>
    <link rel="stylesheet" href="css/store-enhanced.css?v=3.0">
</head>
<body>
    <!-- HEADER -->
    <header class="header">
        <div class="container header-content">
            <div class="logo">
                <span class="logo-icon">üõçÔ∏è</span>
                <span class="logo-text">ONIQ</span>
            </div>
            
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Buscar productos..." />
                <button id="searchBtn">üîç</button>
            </div>
            
            <nav class="header-nav">
                <div class="nav-item" id="wishlistBtn">
                    <span class="icon">‚ù§Ô∏è</span>
                    <span class="badge" id="wishlistCount">0</span>
                </div>
                <div class="nav-item" id="cartBtn">
                    <span class="icon">üõí</span>
                    <span class="badge" id="cartCount">0</span>
                </div>
                <div class="user-menu">
                    <span id="username">üë§ Invitado</span>
                </div>
            </nav>
        </div>
    </header>

    <!-- FILTROS Y CATEGOR√çAS -->
    <section class="filters-section">
        <div class="container">
            <div class="filters-wrapper">
                <div class="categories">
                    <button class="category-btn active" data-category="all">Todos</button>
                    <button class="category-btn" data-category="Electr√≥nica">Electr√≥nica</button>
                    <button class="category-btn" data-category="Audio">Audio</button>
                    <button class="category-btn" data-category="Wearables">Wearables</button>
                    <button class="category-btn" data-category="Accesorios">Accesorios</button>
                    <button class="category-btn" data-category="Almacenamiento">Almacenamiento</button>
                </div>
                
                <div class="filter-controls">
                    <select id="sortSelect">
                        <option value="created_at">M√°s recientes</option>
                        <option value="price_asc">Precio: menor a mayor</option>
                        <option value="price_desc">Precio: mayor a menor</option>
                        <option value="rating">Mejor valorados</option>
                        <option value="popular">M√°s populares</option>
                    </select>
                    
                    <div class="price-filter">
                        <input type="number" id="minPrice" placeholder="Min $" />
                        <span>-</span>
                        <input type="number" id="maxPrice" placeholder="Max $" />
                        <button id="applyPriceFilter">Aplicar</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- PRODUCTOS GRID -->
    <main class="main-content">
        <div class="container">
            <div class="products-header">
                <h2 id="sectionTitle">Todos los Productos</h2>
                <div class="view-toggle">
                    <button class="view-btn active" data-view="grid">‚äû</button>
                    <button class="view-btn" data-view="list">‚ò∞</button>
                </div>
            </div>
            
            <div id="productsGrid" class="products-grid">
                <!-- Los productos se cargar√°n din√°micamente -->
            </div>
            
            <div id="loadingSpinner" class="loading-spinner" style="display: none;">
                <div class="spinner"></div>
                <p>Cargando productos...</p>
            </div>
        </div>
    </main>

    <!-- MODAL DE DETALLES DEL PRODUCTO -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <div class="modal-body">
                <div class="product-image-large" id="modalImage"></div>
                <div class="product-details-full">
                    <h2 id="modalName"></h2>
                    <div class="rating-display" id="modalRating"></div>
                    <p class="product-description" id="modalDescription"></p>
                    <div class="price-section">
                        <span class="price-large" id="modalPrice"></span>
                        <span class="stock-info" id="modalStock"></span>
                    </div>
                    
                    <div class="quantity-selector">
                        <button class="qty-btn" id="decreaseQty">-</button>
                        <input type="number" id="quantityInput" value="1" min="1" />
                        <button class="qty-btn" id="increaseQty">+</button>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn-primary" id="addToCartModal">
                            üõí Agregar al Carrito
                        </button>
                        <button class="btn-secondary" id="addToWishlistModal">
                            ‚ù§Ô∏è Wishlist
                        </button>
                    </div>
                    
                    <div class="reviews-section">
                        <h3>Rese√±as</h3>
                        <div id="reviewsList"></div>
                        
                        <div class="add-review">
                            <h4>Deja tu rese√±a</h4>
                            <div class="star-rating" id="starRating">
                                <span class="star" data-rating="1">‚òÜ</span>
                                <span class="star" data-rating="2">‚òÜ</span>
                                <span class="star" data-rating="3">‚òÜ</span>
                                <span class="star" data-rating="4">‚òÜ</span>
                                <span class="star" data-rating="5">‚òÜ</span>
                            </div>
                            <textarea id="reviewComment" placeholder="Escribe tu comentario..."></textarea>
                            <button class="btn-primary" id="submitReview">Enviar Rese√±a</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL DEL CARRITO -->
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <div class="cart-container">
                <h2>üõí Mi Carrito</h2>
                <div id="cartItems"></div>
                <div class="cart-summary">
                    <div class="total-row">
                        <span>Total:</span>
                        <span id="cartTotal" class="price-large">$0.00</span>
                    </div>
                    <button class="btn-primary btn-checkout" id="checkoutBtn">
                        Proceder al Pago
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL DE WISHLIST -->
    <div id="wishlistModal" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <div class="wishlist-container">
                <h2>‚ù§Ô∏è Mi Wishlist</h2>
                <div id="wishlistItems"></div>
            </div>
        </div>
    </div>

    <!-- NOTIFICACI√ìN TOAST -->
    <div id="toast" class="toast"></div>

    <!-- PANEL ADMIN CRUD (Solo visible para admins) -->
    <div id="adminPanel" class="admin-panel" style="display: none;">
        <div class="admin-panel-content">
            <div class="admin-header">
                <h2>‚öôÔ∏è Panel de Administraci√≥n CRUD</h2>
                <button class="admin-close" onclick="closeAdminPanel()">‚úï</button>
            </div>
            
            <div class="admin-tabs">
                <button class="admin-tab active" onclick="showAdminTab('products')">üì¶ Productos</button>
                <button class="admin-tab" onclick="showAdminTab('users')">üë• Usuarios</button>
                <button class="admin-tab" onclick="showAdminTab('orders')">üìã Pedidos</button>
            </div>

            <!-- Tab de Productos -->
            <div id="adminProducts" class="admin-tab-content active">
                <h3>Gesti√≥n de Productos</h3>
                <button class="btn-admin-add" onclick="showAddProductForm()">‚ûï Agregar Producto</button>
                
                <div id="addProductForm" style="display: none; margin: 20px 0; padding: 20px; background: #2a2a2a; border-radius: 8px;">
                    <h4>Nuevo Producto</h4>
                    <input type="text" id="prodName" placeholder="Nombre" class="admin-input">
                    <input type="number" id="prodPrice" placeholder="Precio" class="admin-input">
                    <input type="text" id="prodCategory" placeholder="Categor√≠a" class="admin-input">
                    <textarea id="prodDesc" placeholder="Descripci√≥n" class="admin-input"></textarea>
                    <input type="text" id="prodImage" placeholder="URL de imagen" class="admin-input">
                    <div style="display: flex; gap: 10px;">
                        <button class="btn-admin-save" onclick="saveProduct()">üíæ Guardar</button>
                        <button class="btn-admin-cancel" onclick="hideAddProductForm()">‚ùå Cancelar</button>
                    </div>
                </div>

                <div id="productsTable" class="admin-table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>Precio</th>
                                <th>Categor√≠a</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="productsTableBody">
                            <!-- Los productos se cargan aqu√≠ din√°micamente -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Tab de Usuarios -->
            <div id="adminUsers" class="admin-tab-content">
                <h3>Gesti√≥n de Usuarios</h3>
                <p style="color: #808080;">Lista de usuarios registrados (simulado)</p>
                <div class="admin-table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Usuario</th>
                                <th>Email</th>
                                <th>Rol</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>admin</td>
                                <td>admin@oniq.com</td>
                                <td><span class="badge-admin">Admin</span></td>
                                <td><button class="btn-admin-sm" disabled>‚úèÔ∏è Editar</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Tab de Pedidos -->
            <div id="adminOrders" class="admin-tab-content">
                <h3>Gesti√≥n de Pedidos</h3>
                <p style="color: #808080;">Historial de pedidos (simulado)</p>
                <div class="admin-table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Usuario</th>
                                <th>Total</th>
                                <th>Estado</th>
                                <th>Fecha</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="5" style="text-align: center; color: #606060;">No hay pedidos registrados</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Bot√≥n flotante para abrir panel admin -->
    <button id="adminFloatingBtn" class="admin-floating-btn" onclick="openAdminPanel()" style="display: none;">
        ‚öôÔ∏è
    </button>

    <script src="js/store-enhanced.js"></script>
</body>
</html>
